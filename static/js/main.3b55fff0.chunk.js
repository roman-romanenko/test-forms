(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{82:function(t,e,a){},83:function(t,e,a){},95:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(24),i=a.n(c),s=(a(82),a(13)),l=a(11),o=(a(83),a(155)),j=a(156),d=a(150),b=a(67),u=a.n(b),h=a(2),m=r.a.memo((function(t){var e=t.onAdd,a=t.postId,r=Object(n.useState)(""),c=Object(l.a)(r,2),i=c[0],s=c[1],o=Object(n.useState)(""),b=Object(l.a)(o,2),m=b[0],O=b[1],g=Object(n.useState)(""),x=Object(l.a)(g,2),p=x[0],f=x[1],v=Object(n.useState)(!1),y=Object(l.a)(v,2),S=y[0],w=y[1],k=Object(n.useState)(!1),C=Object(l.a)(k,2),I=C[0],W=C[1],L=Object(n.useState)(!1),T=Object(l.a)(L,2),A=T[0],J=T[1];return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),J(0===p.trim().length),W(0===m.trim().length),0!==m.trim().length&&0!==p.trim().length){var n={id:a,name:m.trim(),avatar:i,isValidUrl:S,comment:p};fetch(i,{method:"HEAD"}).then((function(t){return t.headers.get("Content-Type")})).then((function(t){t&&(n.isValidUrl=t.startsWith("image"))})).catch((function(){return w(!1)})).finally((function(){e(n),s(""),O(""),f(""),w(!1),J(!1),W(!1)}))}},children:[Object(h.jsx)(d.a,{required:!0,error:I,fullWidth:!0,id:"standard-textarea",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0435 \u0438\u043c\u044f",placeholder:"\u0418\u043c\u044f",variant:"standard",style:{marginTop:30,marginLeft:10},value:m,onChange:function(t){O(t.target.value),W(!1)}}),Object(h.jsx)(d.a,{type:"url",fullWidth:!0,id:"standard-textarea",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0430\u0432\u0430\u0442\u0430\u0440\u043a\u0443",placeholder:"URL",variant:"standard",style:{marginTop:11,marginLeft:10,maxHeight:"minContent"},value:i,onChange:function(t){return s(t.target.value)}}),Object(h.jsx)(d.a,{fullWidth:!0,error:A,id:"standard-textarea",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u043f\u043e\u0441\u0442\u0430",variant:"outlined",multiline:!0,rows:4,style:{marginTop:11,marginLeft:10},value:p,onChange:function(t){f(t.target.value),J(!1)}}),Object(h.jsx)(j.a,{variant:"contained",type:"submit",style:{marginTop:11,marginLeft:10,width:"50%"},startIcon:Object(h.jsx)(u.a,{}),children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})})})),O=a(158),g=a(152),x=a(153),p=a(159),f=a(157),v=a(148),y=r.a.memo((function(t){var e=t.posts;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(O.a,{sx:{width:"100%",bgcolor:"background.paper"},children:e.map((function(t){return Object(h.jsxs)(g.a,{style:{backgroundColor:"lightGreen",borderRadius:10,marginBottom:5},children:[Object(h.jsx)(p.a,{children:t.isValidUrl?Object(h.jsx)(f.a,{children:Object(h.jsx)("img",{src:"".concat(t.avatar),alt:"".concat(t.name),style:{width:60}})}):Object(h.jsx)(f.a,{sx:{bgcolor:v.a[500]},children:t.name[0]})}),Object(h.jsx)(x.a,{primary:"".concat(t.name),secondary:"".concat(t.comment),style:{wordWrap:"break-word"}})]},t.id)}))})})})),S=function(){var t=Object(n.useState)(JSON.parse(localStorage.getItem("posts")||"[]")),e=Object(l.a)(t,2),a=e[0],r=e[1],c=0;a.length>0&&(c=a[a.length-1].id);return Object(h.jsx)("main",{className:"main",children:Object(h.jsxs)(o.a,{container:!0,spacing:2,children:[Object(h.jsxs)(o.a,{item:!0,xs:8,children:[Object(h.jsx)("div",{children:Object(h.jsx)(m,{onAdd:function(t){r((function(e){return[].concat(Object(s.a)(e),[t])})),c+=1,localStorage.setItem("posts",JSON.stringify([].concat(Object(s.a)(a),[t])))},postId:c})}),Object(h.jsx)("p",{style:{textAlign:"right",fontWeight:"bold"},children:"\u041e\u0431\u044c\u044f\u0432\u043b\u0435\u043d\u0438\u0439: ".concat(a.length)}),a.length>0&&Object(h.jsx)("div",{children:Object(h.jsx)(y,{posts:Object(s.a)(a).reverse()})})]}),Object(h.jsx)(o.a,{item:!0,xs:4,children:a.length>0&&Object(h.jsx)("div",{children:Object(h.jsx)(y,{posts:Object(s.a)(a).slice(-5).reverse()})})})]})})};i.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(S,{})}),document.getElementById("root"))}},[[95,1,2]]]);
//# sourceMappingURL=main.3b55fff0.chunk.js.map